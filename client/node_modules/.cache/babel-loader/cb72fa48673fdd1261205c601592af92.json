{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gabe\\\\Desktop\\\\Pomo\\\\Team5\\\\client\\\\src\\\\components\\\\conversations\\\\Conversation.jsx\";\nimport axios from 'axios';\nimport React, { Component, useEffect } from 'react';\nimport { useState } from 'react';\nimport \"./conversation.css\";\nexport default function Conversation(_ref) {\n  let {\n    conversation,\n    currentUserId\n  } = _ref;\n  // console.log(conversation)\n  const profile = JSON.parse(localStorage.getItem('profile'));\n  const userId = profile.result._id; // console.log(userId)\n\n  const [user, setUser] = useState(null); // const userId = \n\n  useEffect(() => {\n    const friendId = conversation === null || conversation === void 0 ? void 0 : conversation.members.find(m => m !== userId); //console.log(friendId)\n\n    const getUser = async () => {\n      try {\n        axios.get(\"http://localhost:5000/api/v1/users/friends\", {\n          params: {\n            userId: userId\n          }\n        }).then(res => {\n          const far = res.data;\n          far.friends.forEach(f => {\n            if (f._id === friendId) {\n              setUser(f);\n            } else nothing;\n          });\n          console.log(far.friends);\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    getUser();\n  }, [currentUserId, conversation]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"conversation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"conversationImg\",\n    src: \"https://www.derekyu.com/makegames/images/pixel/orc07.png\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"conversationName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, user === null || user === void 0 ? void 0 : user.user_name));\n}","map":{"version":3,"sources":["C:/Users/gabe/Desktop/Pomo/Team5/client/src/components/conversations/Conversation.jsx"],"names":["axios","React","Component","useEffect","useState","Conversation","conversation","currentUserId","profile","JSON","parse","localStorage","getItem","userId","result","_id","user","setUser","friendId","members","find","m","getUser","get","params","then","res","far","data","friends","forEach","f","nothing","console","log","err","user_name"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,SAA3B,QAA6C,OAA7C;AACA,SAASC,QAAT,QAAwB,OAAxB;AACA,OAAO,oBAAP;AAEA,eAAe,SAASC,YAAT,OACf;AAAA,MADqC;AAACC,IAAAA,YAAD;AAAeC,IAAAA;AAAf,GACrC;AAEC;AAEC,QAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAX,CAAhB;AACA,QAAMC,MAAM,GAAGL,OAAO,CAACM,MAAR,CAAeC,GAA9B,CALF,CAMC;;AACC,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAiBb,QAAQ,CAAC,IAAD,CAA/B,CAPF,CAQC;;AACCD,EAAAA,SAAS,CAAC,MAAI;AAEZ,UAAMe,QAAQ,GAAGZ,YAAH,aAAGA,YAAH,uBAAGA,YAAY,CAAEa,OAAd,CAAsBC,IAAtB,CAA4BC,CAAD,IAAMA,CAAC,KAAKR,MAAvC,CAAjB,CAFY,CAGZ;;AACE,UAAMS,OAAO,GAAG,YAAY;AAC1B,UAAI;AACJtB,QAAAA,KAAK,CAACuB,GAAN,CAAU,4CAAV,EAAuD;AACrDC,UAAAA,MAAM,EAAE;AACNX,YAAAA,MAAM,EAAEA;AADF;AAD6C,SAAvD,EAIGY,IAJH,CAIQC,GAAG,IAAG;AACX,gBAAMC,GAAG,GAAGD,GAAG,CAACE,IAAhB;AACCD,UAAAA,GAAG,CAACE,OAAJ,CAAYC,OAAZ,CAAoBC,CAAC,IAAG;AACtB,gBAAGA,CAAC,CAAChB,GAAF,KAAUG,QAAb,EAAsB;AACpBD,cAAAA,OAAO,CAACc,CAAD,CAAP;AACD,aAFD,MAICC,OAAO;AAET,WAPD;AAUDC,UAAAA,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACE,OAAhB;AACF,SAjBD;AAkBD,OAnBC,CAmBA,OAAOM,GAAP,EAAW;AACXF,QAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACD;AACF,KAvBC;;AAwBFb,IAAAA,OAAO;AACR,GA7BQ,EA6BP,CAACf,aAAD,EAAgBD,YAAhB,CA7BO,CAAT;AA8BA,sBACE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAG,iBAAjB;AAAmC,IAAA,GAAG,EAAC,0DAAvC;AAAkG,IAAA,GAAG,EAAC,EAAtG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAM,IAAA,SAAS,EAAC,kBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoCU,IAApC,aAAoCA,IAApC,uBAAoCA,IAAI,CAAEoB,SAA1C,CAFF,CADF;AAQD","sourcesContent":["import axios from 'axios';\r\nimport React, { Component, useEffect }  from 'react';\r\nimport { useState} from 'react';\r\nimport \"./conversation.css\"\r\n\r\nexport default function Conversation({conversation, currentUserId,})\r\n{\r\n\r\n // console.log(conversation)\r\n\r\n  const profile = JSON.parse(localStorage.getItem('profile'));\r\n  const userId = profile.result._id\r\n // console.log(userId)\r\n  const [user,setUser] = useState(null);\r\n // const userId = \r\n  useEffect(()=>{ \r\n    \r\n    const friendId = conversation?.members.find((m)=> m !== userId)\r\n    //console.log(friendId)\r\n      const getUser = async () => {\r\n        try {\r\n        axios.get(\"http://localhost:5000/api/v1/users/friends\",{\r\n          params: {\r\n            userId: userId\r\n          }\r\n        }).then(res =>{\r\n           const far = res.data;\r\n            far.friends.forEach(f =>{\r\n              if(f._id === friendId){\r\n                setUser(f);\r\n              }\r\n             else\r\n               nothing\r\n               \r\n            })\r\n            \r\n            \r\n           console.log(far.friends)\r\n        })\r\n      } catch (err){\r\n        console.log(err)\r\n      }\r\n    };\r\n    getUser();\r\n  },[currentUserId, conversation])\r\n  return(\r\n    <div className=\"conversation\">\r\n      <img className = \"conversationImg\" src=\"https://www.derekyu.com/makegames/images/pixel/orc07.png\" alt=\"\"/>\r\n      <span className=\"conversationName\">{user?.user_name}</span>\r\n    </div>\r\n\r\n\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}